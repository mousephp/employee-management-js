<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<style type="text/css">
	#myTable tr{
		cursor: pointer;
	}
</style>
<body>
	

<hr>
<h1 style="margin: 20px 0 0 0;text-align: center; color:#00ff37;font-weight: 700; font-family: fantasy; ">QUẢN LÝ NHÂN VIÊN</h1>
<hr>

<div class="container">
	<div class="row">
		<div class="col-md-6">
		  	<form>
				 <div class="form-group">
					    <label for="exampleInputEmail1">Họ tên</label>
					    <input type="text" class="form-control" name="name" id="name" aria-describedby="emailHelp" placeholder="Enter Họ tên">
				 </div>
				 <div class="form-group">
					    <label for="exampleInputEmail1">Tuổi</label>
					    <input type="text" class="form-control" name="age" id="age" aria-describedby="emailHelp" placeholder="Enter Tuổi">
				  </div>
				 <div class="form-group">
					    <label for="exampleInputEmail1">Quê quán</label>
					    <input type="text" class="form-control" name="address" id="address" aria-describedby="emailHelp" placeholder="Enter Quê quán">
				  </div>
			</form>
		</div>

		<div class="col-md-6">
			<table class="table table-hover" id="myTable" >
				  <thead>
				    <tr>
				      <th scope="col">#</th>
				      <th scope="col">Họ tên</th>
				      <th scope="col">Tuổi</th>
				      <th scope="col">Quê quán</th>
				      <th scope="col">Edit</th>
				      <th scope="col">Delete</th>
				    </tr>
				  </thead>
				  <tbody>
				    <tr>
				      <th scope="row">1</th>
				      <td>Mark</td>
				      <td>Otto</td>
				      <td>@mdo</td>
				      <td><button class="btn btn-warning">Edit</button></td>
				      <td><button class="btn btn-danger" onclick="removeStudent()">Delete</button></td>
				    </tr>
				   <tr>
				      <th scope="row">2</th>
				      <td>Mark</td>
				      <td>Otto</td>
				      <td>@mdo</td>
				      <td><button class="btn btn-warning">Edit</button></td>
				      <td><button class="btn btn-danger" onclick="removeStudent()">Delete</button></td>
				    </tr>
				   <tr>
				      <th scope="row">3</th>
				      <td>Mark</td>
				      <td>Otto</td>
				      <td>@mdo</td>
				      <td><button class="btn btn-warning">Edit</button></td>
				      <td><button class="btn btn-danger" onclick="removeStudent()">Delete</button></td>
				    </tr>				  
				  </tbody>
			</table>
		</div>

		 <div class="col-md-12" style="text-align: center;">
		 	<button class="btn btn-primary btn-lg" onclick="addStudent();">Thêm</button>
		 	<button class="btn btn-warning btn-lg" onclick="editStudent()">Sửa</button>
		 	<button class="btn btn-danger btn-lg" onclick="removeStudent()">Xóa</button>		 	
		 </div>	
	</div>
</div>


<hr style="width: 10px;height: 500px;color: black;">
	
</body>

<script type="text/javascript">
	var i_=4,rIndex, myTable=document.getElementById('myTable');

	function checkValidateInput(){
		var isSset =true,
		name=document.getElementById('name').value,
		age=document.getElementById('age').value,
		address=document.getElementById('address').value;

		if(name===""){
			alert('Tên không được để trống');
			isSset=false;
		}else if(age===""){
			alert('Tuổi không được để trống');
			isSset=false;
		}else if(address===""){
			alert('Địa chỉ không được để trống');
			isSset=false;
		}
		return isSset;
	}

	function addStudent(){				
		if(checkValidateInput()){
			//C2
			name=document.getElementById('name').value;
			age=document.getElementById('age').value;
			address=document.getElementById('address').value;
			var table_len=(myTable.rows.length);			
			var newRow = myTable.insertRow(table_len).outerHTML="<tr><th scope='row'>"+ i_++ +"</th><td>"+name+"</td><td>"+age+"</td><td>"+address+"</td><td><button class='btn btn-warning'>Edit</button></td><td><button class='btn btn-danger'>Delete</button></td></tr>";

			selectStudent();
		}
	}

	function selectStudent(){
		for(var i = 1; i < myTable.rows.length; i++){
	            myTable.rows[i].onclick = function(){
	              // get the seected row index
				rIndex = this.rowIndex;
				document.getElementById("name").value = this.cells[1].innerHTML;
				document.getElementById("age").value = this.cells[2].innerHTML;
				document.getElementById("address").value = this.cells[3].innerHTML;
            };
        }
	}
	selectStudent(); //dat o day khi click vao se hiem ra o input

	function editStudent(){
		var name = document.getElementById("name").value,
		age = document.getElementById("age").value,
		address = document.getElementById("address").value;
		if(checkValidateInput()){
			myTable.rows[rIndex].cells[1].innerHTML = name;
			myTable.rows[rIndex].cells[2].innerHTML = age;
			myTable.rows[rIndex].cells[3].innerHTML = address;
		}
	}

	function removeStudent(){
		myTable.deleteRow(rIndex);
		// clear input text
		document.getElementById("name").value = "";
		document.getElementById("age").value = "";
		document.getElementById("address").value = "";
	}


</script>

</html>


